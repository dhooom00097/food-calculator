:root{
  --bg:#0f172a; --card:#111827; --muted:#94a3b8; --text:#e5e7eb;
  --accent:#22c55e; --accent-2:#10b981; --danger:#ef4444;
  --ring: 0 0 0 3px rgba(34,197,94,.25); --radius: 18px;
}
*{box-sizing:border-box}
body{
  margin:0; background:linear-gradient(145deg,#0b1226,#0f172a 40%,#0b1226 90%);
  color:var(--text); font-family:system-ui,-apple-system,"Segoe UI",Tahoma,Arial;
  min-height:100dvh; display:flex; align-items:center; justify-content:center; padding:24px;
}
.app{width:min(1100px,100%); display:grid; gap:20px}
.header{display:flex; align-items:center; justify-content:space-between; gap:12px}
.title{font-size:clamp(20px,3.2vw,34px); font-weight:800; letter-spacing:.3px}
.subtitle{color:var(--muted); font-size:14px}

.grid{display:grid; grid-template-columns: 1.1fr .9fr; gap:20px}
@media (max-width:960px){ .grid{grid-template-columns:1fr}}

.card{
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01));
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius); padding:18px; backdrop-filter: blur(6px);
  box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
}
.card h3{margin:0 0 12px; font-size:18px}
.uploader{border:1.5px dashed rgba(255,255,255,.18); border-radius:14px; padding:14px; text-align:center}
.uploader input{display:none}

.btn{
  display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:12px;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  color:#001b07; font-weight:700; border:none; cursor:pointer; box-shadow:0 8px 24px rgba(16,185,129,.25);
}
.btn:focus{outline:none; box-shadow:var(--ring)}
.btn-ghost{
  background:transparent; color:var(--text); border:1px solid rgba(255,255,255,.15);
  padding:10px 14px; border-radius:12px; cursor:pointer;
}
.btn-warn{
  background:linear-gradient(135deg,var(--danger),#f97316);
  color:#1a0b0b; font-weight:800; border:none; padding:10px 14px; border-radius:12px; cursor:pointer;
}

.preview-wrap{margin-top:12px; display:grid; gap:10px}
#preview,#video{
  width:100%; height:auto; max-height:400px; border-radius:14px;
  border:1px solid rgba(255,255,255,.1); object-fit:contain; background:#0b1022;
}
.hidden{display:none}
.controls{display:flex; gap:10px; margin-top:10px; flex-wrap:wrap}
.hint{margin-top:10px}

.result-line{display:flex; align-items:center; gap:10px; margin-bottom:10px; flex-wrap:wrap}
.chip{
  display:inline-block; padding:6px 10px; border-radius:999px; font-weight:700;
  background:rgba(34,197,94,.1); color:#a7f3d0; border:1px solid rgba(16,185,129,.3);
}
.small{font-size:12px}
.muted{color:var(--muted)}
.center{text-align:center}

.form-grid{display:grid; gap:12px; grid-template-columns:1fr 1fr 1fr; margin-top:10px}
@media (max-width:800px){ .form-grid{grid-template-columns:1fr} }
.form-field{display:flex; flex-direction:column; gap:6px}
.form-field input,.form-field select{
  background:#0b1022; color:var(--text); border:1px solid rgba(255,255,255,.15);
  border-radius:12px; padding:10px 12px; font-size:14px
}
.form-field input:focus,.form-field select:focus{outline:none; box-shadow:var(--ring)}

.outputs{
  display:grid; gap:12px;
  grid-template-columns:1fr 1fr 1fr; /* 6 بطاقات على صفّين */
}
@media (max-width:800px){ .outputs{grid-template-columns:1fr}}
.out-card{
  background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
  border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:14px
}
.out-title{color:var(--muted); font-size:12px; margin-bottom:6px}
.out-value{font-size:26px; font-weight:800}
.status{color:#a7f3d0; font-weight:700}
